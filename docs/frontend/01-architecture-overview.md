# Coze Studio å‰ç«¯æ•´ä½“æ¶æ„æ¦‚è¿°

> åŸºäº Coze Studio æºç åˆ†æçš„æ¶æ„æ¦‚è¿°ï¼Œä¸º Coze Lite å®ç°æä¾›æŒ‡å¯¼

## 1. æ¶æ„è®¾è®¡ç†å¿µ

Coze Studio é‡‡ç”¨ **Monorepo + æ¨¡å—åŒ–** æ¶æ„ï¼š

```
æ ¸å¿ƒç†å¿µï¼š
- åˆ†å±‚è§£è€¦ï¼šFoundation â†’ Arch â†’ Business â†’ App
- é€‚é…å™¨æ¨¡å¼ï¼šBase + Adapter å®ç°ç¯å¢ƒéš”ç¦»
- çŠ¶æ€éš”ç¦»ï¼šæ¯ä¸ªæ¨¡å—ç‹¬ç«‹ç®¡ç†çŠ¶æ€
- ä¾èµ–æ³¨å…¥ï¼šé€šè¿‡ Context å’Œ Provider
```

## 2. æŠ€æœ¯æ ˆæ¦‚è§ˆ

```yaml
æ ¸å¿ƒï¼š
  - React 18.2 + TypeScript 5.8
  - React Router v6
  - Zustand (çŠ¶æ€ç®¡ç†)

æ„å»ºï¼š
  - Rsbuild (åŸºäº Rspack)
  - Rush + PNPM (Monorepo)

UIï¼š
  - @coze-arch/coze-design (åŸºäº Semi Design)
  - TailwindCSS 3.3

ç‰¹è‰²ï¼š
  - FlowGram (å·¥ä½œæµå¼•æ“)
  - Fabric.js (Canvas æ¸²æŸ“)
```

## 3. ç›®å½•ç»“æ„ï¼ˆç®€åŒ–ç‰ˆï¼‰

```
frontend/
â”œâ”€â”€ apps/coze-studio/           # ä¸»åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/            # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ app.tsx            # App å…¥å£
â”‚
â”œâ”€â”€ packages/                   # åŠŸèƒ½åŒ…
â”‚   â”œâ”€â”€ foundation/            # åŸºç¡€è®¾æ–½
â”‚   â”‚   â”œâ”€â”€ account-*         # è´¦æˆ·ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ space-*           # å·¥ä½œç©ºé—´
â”‚   â”‚   â””â”€â”€ layout/           # å¸ƒå±€
â”‚   â”‚
â”‚   â”œâ”€â”€ arch/                  # æ¶æ„å±‚
â”‚   â”‚   â”œâ”€â”€ bot-api/          # API
â”‚   â”‚   â”œâ”€â”€ coze-design/      # UI åº“
â”‚   â”‚   â””â”€â”€ i18n/             # å›½é™…åŒ–
â”‚   â”‚
â”‚   â”œâ”€â”€ agent-ide/             # Agent ç¼–è¾‘å™¨
â”‚   â”‚   â”œâ”€â”€ layout*/          # å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ prompt*/          # Prompt
â”‚   â”‚   â”œâ”€â”€ tool*/            # å·¥å…·
â”‚   â”‚   â””â”€â”€ chat-*/           # è°ƒè¯•
â”‚   â”‚
â”‚   â”œâ”€â”€ workflow/              # å·¥ä½œæµ
â”‚   â”‚   â”œâ”€â”€ fabric-canvas/    # ç”»å¸ƒ
â”‚   â”‚   â”œâ”€â”€ nodes/            # èŠ‚ç‚¹
â”‚   â”‚   â””â”€â”€ sdk/              # SDK
â”‚   â”‚
â”‚   â””â”€â”€ studio/                # Studio æ ¸å¿ƒ
â”‚       â””â”€â”€ workspace-*/      # å·¥ä½œç©ºé—´
â”‚
â””â”€â”€ config/                     # é…ç½®åŒ…
```

## 4. å››å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   App (åº”ç”¨å±‚)              â”‚  è·¯ç”±ã€é¡µé¢ç»„åˆ
â”‚   apps/coze-studio          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Business (ä¸šåŠ¡å±‚)         â”‚  Agent IDEã€Workflow
â”‚   agent-ide, workflow       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Arch (æ¶æ„å±‚)             â”‚  APIã€UI åº“ã€Hooks
â”‚   packages/arch             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Foundation (åŸºç¡€å±‚)       â”‚  è´¦æˆ·ã€ç©ºé—´ã€å¸ƒå±€
â”‚   packages/foundation       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5. æ ¸å¿ƒæ¨¡å—

### 5.1 Agent IDEï¼ˆAI Agent ç¼–è¾‘å™¨ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚Configâ”‚  Prompt/Tool   â”‚   Chat    â”‚ â”‚
â”‚  â”‚Panel â”‚   Edit Area    â”‚   Debug   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ ¸å¿ƒåŒ…ï¼š
- @coze-agent-ide/layout*        # å¸ƒå±€
- @coze-agent-ide/prompt*        # Prompt ç¼–è¾‘
- @coze-agent-ide/tool*          # å·¥å…·ç®¡ç†
- @coze-agent-ide/chat-*         # å¯¹è¯è°ƒè¯•
```

### 5.2 Workflowï¼ˆå·¥ä½œæµç¼–è¾‘å™¨ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Canvas (æ‹–æ‹½å¼å·¥ä½œæµç”»å¸ƒ)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”        â”‚
â”‚  â”‚Nodeâ”‚â”€â”€â”€â”€â”€â–¶â”‚Nodeâ”‚â”€â”€â”€â”€â”€â–¶â”‚Nodeâ”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ ¸å¿ƒåŒ…ï¼š
- @coze-workflow/fabric-canvas   # Canvas å¼•æ“
- @coze-workflow/nodes           # èŠ‚ç‚¹ç»„ä»¶
- @coze-workflow/playground      # è°ƒè¯•è¿è¡Œ
```

### 5.3 Workspaceï¼ˆå·¥ä½œç©ºé—´ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sidebar  â”‚  Main Content Area          â”‚
â”‚  - Home   â”‚  - Bots List                â”‚
â”‚  - Dev    â”‚  - Projects List            â”‚
â”‚  - Lib    â”‚  - Resources                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ ¸å¿ƒåŒ…ï¼š
- @coze-foundation/space-*       # ç©ºé—´ç®¡ç†
- @coze-studio/workspace-*       # å·¥ä½œç©ºé—´
```

## 6. è·¯ç”±æ¶æ„

```typescript
è·¯ç”±ç»“æ„ï¼š
/                           # æ ¹
â”œâ”€â”€ /sign                  # ç™»å½•æ³¨å†Œ
â”œâ”€â”€ /space/:space_id       # å·¥ä½œç©ºé—´
â”‚   â”œâ”€â”€ /develop          # å¼€å‘ï¼ˆBot/Project åˆ—è¡¨ï¼‰
â”‚   â”œâ”€â”€ /library          # èµ„æºåº“
â”‚   â”œâ”€â”€ /bot/:bot_id      # Agent ç¼–è¾‘å™¨
â”‚   â””â”€â”€ /project-ide/:id  # Project ç¼–è¾‘å™¨
â”œâ”€â”€ /work_flow            # å·¥ä½œæµç¼–è¾‘å™¨
â””â”€â”€ /explore              # æ¢ç´¢/å•†åº—
    â”œâ”€â”€ /plugin          # æ’ä»¶å•†åº—
    â””â”€â”€ /template        # æ¨¡æ¿å•†åº—
```

## 7. çŠ¶æ€ç®¡ç†

### Zustand Stores

æ¯ä¸ªæ¨¡å—ç‹¬ç«‹ storeï¼š

```typescript
// ç¤ºä¾‹ï¼šBot Editor Store
export const useBotEditorStore = create((set) => ({
  // State
  botId: '',
  config: {},

  // Actions
  updateConfig: (config) => set({ config }),
  save: async () => { /* ä¿å­˜é€»è¾‘ */ },
}));
```

**ä¸»è¦ Stores**ï¼š
- `global-store` - å…¨å±€çŠ¶æ€ï¼ˆç”¨æˆ·ã€ä¸»é¢˜ï¼‰
- `space-store` - å·¥ä½œç©ºé—´çŠ¶æ€
- `bot-editor-context-store` - Bot ç¼–è¾‘å™¨çŠ¶æ€

## 8. é€‚é…å™¨æ¨¡å¼

Coze Studio ä½¿ç”¨ Base + Adapter æ¨¡å¼å®ç°ç¯å¢ƒéš”ç¦»ï¼š

```
æ¨¡å—åŸºç¡€å®ç° (base)  â†’  é€‚é…å™¨ (adapter)  â†’  åº”ç”¨
      â†“                      â†“                 â†“
   æ ¸å¿ƒé€»è¾‘            ç¯å¢ƒç‰¹å®šé€»è¾‘         å®é™…ä½¿ç”¨
```

**ç¤ºä¾‹**ï¼š
```
@coze-foundation/account-base       # æ ¸å¿ƒé€»è¾‘
@coze-foundation/account-adapter    # ç¯å¢ƒé€‚é…
```

**Coze Lite ç®€åŒ–**ï¼šå¯ä»¥å»æ‰ Adapter å±‚ï¼Œç›´æ¥å®ç°

## 9. æ•°æ®æµ

```
ç”¨æˆ·æ“ä½œ â†’ ç»„ä»¶äº‹ä»¶ â†’ Zustand Store â†’ API è°ƒç”¨ â†’ åç«¯
                          â†“
                    è§¦å‘è§†å›¾æ›´æ–°
```

## 10. Coze Lite ç®€åŒ–å»ºè®®

### æŠ€æœ¯æ ˆç®€åŒ–

```yaml
Coze Studio â†’ Coze Lite:
  æ„å»ºå·¥å…·: Rsbuild + Rush â†’ Vite
  åŒ…ç®¡ç†: Monorepo (50+ åŒ…) â†’ å•ä½“æˆ–ç®€å• Workspace
  UI åº“: @coze-design â†’ Arco Design (å¼€æºç‰ˆ)
```

### æ¶æ„ç®€åŒ–

```
ä¿ç•™ï¼š
- âœ… åŸºç¡€å±‚ï¼šè´¦æˆ·ã€å·¥ä½œç©ºé—´
- âœ… ä¸šåŠ¡å±‚ï¼šAgent IDEã€Workflow æ ¸å¿ƒ
- âœ… ç»„ä»¶å±‚ï¼šUI ç»„ä»¶

ç®€åŒ–/ç§»é™¤ï¼š
- âŒ é€‚é…å™¨å±‚ï¼šç›´æ¥å®ç°
- âŒ å¤æ‚åŒ…æ‹†åˆ†ï¼šåˆå¹¶åŠŸèƒ½
- âŒ ä¼ä¸šç‰¹æ€§ï¼šSSOã€å¤æ‚æƒé™ç­‰
```

### MVP åŠŸèƒ½

**ç¬¬ä¸€é˜¶æ®µï¼ˆåŸºç¡€æ¡†æ¶ï¼‰**ï¼š
1. é¡¹ç›®åˆå§‹åŒ– + è·¯ç”±
2. ç™»å½•/æ³¨å†Œé¡µé¢
3. å·¥ä½œç©ºé—´åˆ—è¡¨

**ç¬¬äºŒé˜¶æ®µï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰**ï¼š
4. Agent IDE åŸºç¡€ï¼ˆPrompt ç¼–è¾‘ + ç®€å•å·¥å…·ï¼‰
5. å¯¹è¯è°ƒè¯•

**ç¬¬ä¸‰é˜¶æ®µï¼ˆå®Œæ•´åŠŸèƒ½ï¼‰**ï¼š
6. Workflow ç¼–è¾‘å™¨åŸºç¡€
7. æ’ä»¶ç³»ç»Ÿ

## 11. å…³é”®æºç ä½ç½®

```bash
# ä¸»åº”ç”¨
/Users/lg/Projects/lab/coze-studio/frontend/apps/coze-studio

# è·¯ç”±é…ç½®
apps/coze-studio/src/routes/index.tsx

# Agent IDE
frontend/packages/agent-ide/

# Workflow
frontend/packages/workflow/

# åŸºç¡€è®¾æ–½
frontend/packages/foundation/
```

## 12. ä¸‹ä¸€æ­¥å­¦ä¹ è·¯å¾„

1. **æŠ€æœ¯æ ˆè¯¦è§£** â†’ `02-tech-stack.md`
2. **é¡¹ç›®åˆå§‹åŒ–** â†’ `03-project-setup.md`
3. **è·¯ç”±å’Œå¸ƒå±€** â†’ `04-routing-layout.md`
4. **æ¨¡å—æ·±å…¥** â†’ æ ¹æ®éœ€è¦é˜…è¯»å¯¹åº”æ¨¡å—æ–‡æ¡£

---

**å…³é”®è¦ç‚¹æ€»ç»“**ï¼š
- ğŸ—ï¸ **åˆ†å±‚æ¶æ„**ï¼šFoundation â†’ Arch â†’ Business â†’ App
- ğŸ“¦ **æ¨¡å—åŒ–**ï¼šæ¯ä¸ªåŠŸèƒ½ç‹¬ç«‹åŒ…ï¼Œé€šè¿‡ workspace ç»„ç»‡
- ğŸ”Œ **é€‚é…å™¨æ¨¡å¼**ï¼šBase + Adapterï¼ˆå¯ç®€åŒ–ï¼‰
- ğŸ—ƒï¸ **çŠ¶æ€ç®¡ç†**ï¼šZustand + Context
- ğŸ¨ **UI åº“**ï¼šåŸºäº Semi Design çš„è‡ªå®šä¹‰ç»„ä»¶åº“

**æºç å‚è€ƒ**ï¼š`/Users/lg/Projects/lab/coze-studio/frontend`
**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0 | 2025-11-30
